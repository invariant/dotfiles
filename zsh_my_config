
## ZSH Config ##

# https://www.themoderncoder.com/add-git-branch-information-to-your-zsh-prompt/
# https://arjanvandergaag.nl/blog/customize-zsh-prompt-with-vcs-info.html
# Load version control information
autoload -Uz vcs_info

# Format the vcs_info_msg_0_ variable
zstyle ':vcs_info:git:*' formats 'on %b'

# precmd is executed before each prompt https://zsh.sourceforge.io/Doc/Release/Functions.html
precmd() { vcs_info } 

# prevent dups in history
# https://unix.stackexchange.com/questions/599641/why-do-i-have-duplicates-in-my-zsh-history
setopt HIST_FIND_NO_DUPS

# Set up the prompt (with git branch name)
setopt PROMPT_SUBST
PROMPT='
%n in ${PWD/#$HOME/~} ${vcs_info_msg_0_}
%# '
# Right prompt with time
RPROMPT='%*'

# Set up autocomplete using plugin
# https://github.com/marlonrichert/zsh-autocomplete
source ~/.dotfiles/zsh-autocomplete/zsh-autocomplete.plugin.zsh